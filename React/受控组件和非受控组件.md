# 受控组件和非受控组件
React的受控组件与非受控组件的概念是相对于表单而言的，在React中表单元素通常会持有一下内部的state，因此它的工作方式与其他HTML元素不一样，而获取表单元素内部state的实现方式的不同，就产生了受控组件和非受控组件。

## 受控组件
在HTML的表单元素中，它们通常自己维护一套state，并随着用户的输入自己进行UI上的更新，这种行为是不被我们程序所管控的，而如果将React里的state属性和表单元素的值建立依赖关系，再通过onChange事件与setState()结合更新state属性，就能达到控制用户输入过程中表单发生的操作，React以这种方式控制取值的表单输入元素就叫做受控组件。
在React中定义了一个input输入框的话，它并没有类似于Vue里v-model的这种双向绑定功能，也就是说我们并没有一个指令能够将数据和输入框结合起来，用户在输入框中输入内容，然后数据同步更新。

## 非受控组件
如果表单元素并不经过state，而是通过ref修改或者直接操作DOM，那么它的数据无法通过state控制，这就是非受控组件。

## 总结
### 受控组件
1. 每当表单的状态发生变化时，都会被写入到组件的state中。
2. 在受控组件中，组件渲染出的状态与它的value或checked prop相对应。
3. react受控组件更新state的流程:
      - 通过在初始state中设置表单的默认值。
      - 每当表单的值发生变化时，调用onChange事件处理器。
      - 事件处理器通过合成对象event拿到改变后的状态，并更新应用的state。
      - SetState触发视图的重新渲染，完成表单组件值的更新。
### 非受控组件
1. 如果一个表单组件没有value prop就可以称为非受控组件。
2. 非受控组件是一种反模式，它的值不受组件自身的state或props控制。
3. 通常需要为其添加ref prop来访问渲染后的底层DOM元素。
4. 可通过添加defaultValue指定value值。